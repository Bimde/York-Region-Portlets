<body>
	<style>
		.box-design {
			border-color: gray;
			border-width: 5px;
			border-style: outset;
			padding: 5px;
			height: 95%;
			width: 95%;
			margin: 0px;
		}
		#ulList {
			list-style-image: url('http://i1067.photobucket.com/albums/u432/Bimde/Unchecked%20Box_zps8h2s0kkh.png');
		}
	</style>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	<div class = "box-design">
		<input id = "input" type= "text" placeholder="Remember to do something">
		<button onclick="addToList()">Add to list</button>
		<ul id="ulList"></ul>
	</div>
	
	<script>
		function addElement(text, num) {
			if (text.trim() != "") {
				var textNode = document.createTextNode(text);
				var li = document.createElement("LI");
				li.appendChild(textNode);
				document.getElementById("ulList").appendChild(li);
				li.setAttribute("index", (num+""));
			}
		}

		function addToList() {
			var text = document.getElementById("input").value;
			document.getElementById("input").value = null;
			if (text.trim() != "") {
				var textNode = document.createTextNode(text);
				var li = document.createElement("LI");
				li.appendChild(textNode);
				document.getElementById("ulList").appendChild(li);
				if(localStorage.getItem('list-storage') !== null) {
					var temp = JSON.parse(localStorage['list-storage']);
					temp.myData.splice(temp.myData.length, 0, text);
					localStorage.setItem('list-storage', JSON.stringify(temp));
					li.setAttribute("index", ((temp.myData.length-1)+""));
				}
				else {
					var data = {"myData":[text]};
					localStorage.setItem('list-storage', JSON.stringify(data));
				}
			}
			console.log(JSON.parse(localStorage.getItem('list-storage')));
		}

		function removeFromList(index) {
			var obj = JSON.parse(localStorage['list-storage']);
			obj.myData.splice(index, 1);
			localStorage.setItem('list-storage', JSON.stringify(obj));
		}

		$("#ulList").on('click', 'li', function() {
			var temp = $(this).attr("index");
			removeFromList(temp);
			$(this).remove();
		});

        $("#input").keydown(function(event){
            if(event.which === 13) {
                addToList();
            }
        })

		$(document).ready(function() {
			if(localStorage.getItem('list-storage') !== null){
				var obj = JSON.parse(localStorage.getItem('list-storage'));
				for(var i = 0; i < obj.myData.length; i++) {
					addElement(obj.myData[i], i);
				}
			}
		});
	</script>
</body>